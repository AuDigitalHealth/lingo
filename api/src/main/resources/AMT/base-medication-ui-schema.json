{
  "ui:order": [
    "productName",
    "containerType",
    "externalIdentifiers",
    "containedProducts",
    "containedPackages"
  ],
  "productName": {
    "ui:field": "AutoCompleteField",
    "ui:options": {
      "ecl": "<774167006",
      "showDefaultOptions": false,
      "createBrand": {
        "ecl": "<774167006",
        "semanticTags": "(product name)"
      }
    }
  },
  "containerType": {
    "ui:field": "AutoCompleteField",
    "ui:options": {
      "ecl": "^929360051000036108.30465011000036106",
      "extendedEcl": "<49062001",
      "showDefaultOptions": true
    }
  },
  "containedProducts": {
    "ui:field": "ConditionalArrayField",
    "ui:options": {
      "arrayTemplate": "accordion",
      "skipTitle": true,
      "searchAndAddProduct": {
        "ecl": "^929360031000036100 AND <763158003",
        "type": "medication",
        "package": false
      },
      "conditions": [
        {
          "field": "containedPackages",
          "operator": "lengthGreaterThan",
          "value": 0
        }
      ],
      "conditionLogic": "and"
    },
    "items": {
      "ui:order": [
        "productDetails",
        "unit",
        "value"
      ],
      "ui:options": {
        "titleSource": "productDetails.productName.pt.term",
        "defaultTitle": "Product",
        "style": {
          "border": "1px solid #ddd",
          "padding": "10px",
          "marginBottom": "20px",
          "borderRadius": "8px"
        },
        "skipTitle": true
      },
      "unit": {
        "ui:field": "UnitValueUnWrappedField",
        "ui:title": "Pack Size",
        "ui:options": {
          "pairWith": "value",
          "ecl": "(^929360051000036108 : (774160008 OR 999000081000168101) = *).774163005",
          "showDefaultOptions": true
        }
      },
      "value": {
        "ui:widget": "hidden",
        "ui:options": {
          "skipTitle": true
        }
      },
      "productDetails": {
        "ui:options": {
          "skipTitle": true
        },
        "ui:order": [
          "productName",
          "activeIngredients",
          "genericForm",
          "specificForm",
          "quantity",
          "containerType",
          "deviceType",
          "otherIdentifyingInformation",
          "type"
        ],
        "type": {
          "ui:widget": "hidden",
          "ui:options": {
            "skipTitle": true
          }
        },
        "productName": {
          "ui:field": "AutoCompleteField",
          "ui:options": {
            "ecl": "<774167006",
            "showDefaultOptions": false
          }
        },
        "activeIngredients": {
          "ui:options": {
            "skipTitle": true,
            "arrayTemplate": "accordion"
          },
          "items": {
            "ui:order": [
              "activeIngredient",
              "preciseIngredient",
              "basisOfStrengthSubstance",
              "concentrationStrength",
              "totalQuantity"
            ],
            "ui:options": {
              "titleSource": "activeIngredient.pt.term",
              "defaultTitle": "Ingredient",
              "skipTitle": true
            },
            "activeIngredient": {
              "ui:field": "AutoCompleteField",
              "ui:options": {
                "dependants": [
                  {
                    "path": "../preciseIngredient",
                    "ui:options": {
                      "getEcl": "<@parent OR (<410942007:738774007=@parent) OR (<410942007:738774007=(<410942007:738774007=@parent)) OR (<410942007:738774007=(<410942007:738774007=(<410942007:738774007=@parent))) OR (<410942007:738774007=(<410942007:738774007=(<410942007:738774007=(<410942007:738774007=@parent))))",
                      "showDefaultOptions": true
                    }
                  }
                ],
                "ecl": ">>^929360031000036100.127489000",
                "showDefaultOptions": false
              }
            },
            "preciseIngredient": {
              "anyOf": [
                {
                  "ui:title": "Precise Ingredient",
                  "ui:field": "AutoCompleteField",
                  "ui:options": {
                    "showDefaultOptions": true
                  }
                },
                {
                  "ui:title": "No Precise Ingredient",
                  "value": null
                }
              ]
            },
            "basisOfStrengthSubstance": {
              "ui:field": "AutoCompleteField",
              "ui:title": "BoSS",
              "ui:options": {
                "ecl": "(^929360031000036100.732943007) OR (>>^929360031000036100.127489000)",
                "extendedEcl": "<105590001",
                "showDefaultOptions": false
              }
            },
            "totalQuantity": {
              "ui:field": "UnitValueField",
              "ui:title": "Unit Strength",
              "value": {},
              "unit": {
                "ui:options": {
                  "ecl": "^929360031000036100.999000051000168108",
                  "extendedEcl": "(<767524001) MINUS (*:(700000091000036104=* OR 700000071000036103=*))",
                  "showDefaultOptions": true
                }
              }
            },
            "concentrationStrength": {
              "ui:field": "UnitValueField",
              "ui:title": "Concentration Strength",
              "value": {},
              "unit": {
                "ui:options": {
                  "ecl": "^929360031000036100.999000031000168102",
                  "extendedEcl": "<767524001:(700000091000036104=* AND 700000071000036103=*)",
                  "showDefaultOptions": true
                }
              }
            }
          }
        },
        "genericForm": {
          "ui:field": "ParentChildAutoCompleteField",
          "ui:options": {
            "parentFieldName": "genericForm",
            "childFieldName": "specificForm",
            "parentFieldOptions": {
              "ecl": "^929360071000036103.411116001",
              "extendedEcl": "<736542009",
              "showDefaultOptions": false,
              "title": "Generic Dose Form"
            },
            "childFieldOptions": {
              "ecl": "",
              "showDefaultOptions": true,
              "title": "Specific Dose Form",
              "getEcl": "<@parent"
            }
          }
        },
        "specificForm": {
          "ui:widget": "hidden",
          "ui:options": {
            "skipTitle": true
          }
        },
        "quantity": {
          "ui:field": "UnitValueField",
          "ui:title": "Unit Size",
          "value": {},
          "unit": {
            "ui:options": {
              "ecl": "^929360031000036100.774163005",
              "extendedEcl": "(<767524001) MINUS (*:(700000091000036104=* OR 700000071000036103=*))",
              "showDefaultOptions": true
            }
          }
        },
        "containerType": {
          "ui:field": "MutuallyExclusiveAutocompleteField",
          "ui:options": {
            "fieldAName": "containerType",
            "fieldBName": "deviceType",
            "skipTitle": true,
            "fieldAOptions": {
              "title": "Container Type",
              "ecl": "^929360051000036108.30465011000036106",
              "extendedEcl": "<49062001",
              "showDefaultOptions": true
            },
            "fieldBOptions": {
              "title": "Device Type",
              "ecl": "^929360031000036100.999000061000168105",
              "extendedEcl": "<63653004",
              "showDefaultOptions": true
            }
          }
        },
        "deviceType": {
          "ui:widget": "hidden",
          "ui:options": {
            "skipTitle": true
          }
        },
        "otherIdentifyingInformation": {
          "ui:widget": "TextFieldWidget",
          "ui:options": {
            "placeholder": "Enter any additional identifying information"
          }
        }
      }
    }
  },
  "containedPackages": {
    "ui:field": "ConditionalArrayField",
    "ui:options": {
      "skipTitle": true,
      "searchAndAddProduct": {
        "ecl": "^929360051000036108:774160008=*",
        "type": "medication",
        "package": true
      },
      "arrayTemplate": "accordion",
      "conditions": [
        {
          "field": "containedProducts",
          "operator": "lengthGreaterThan",
          "value": 0
        }
      ],
      "conditionLogic": "and"
    },
    "items": {
      "ui:order": [
        "packageDetails",
        "unit",
        "value"
      ],
      "ui:options": {
        "titleSource": "packageDetails.productName.pt.term",
        "defaultTitle": "Package",
        "style": {
          "border": "1px solid #ddd",
          "padding": "10px",
          "marginBottom": "20px",
          "borderRadius": "8px"
        },
        "skipTitle": true
      },
      "unit": {
        "ui:field": "UnitValueUnWrappedField",
        "ui:title": "Pack Size",
        "ui:options": {
          "pairWith": "value",
          "ecl": "(^929360051000036108 : (774160008 OR 999000081000168101) = *).774163005",
          "showDefaultOptions": true
        }
      },
      "value": {
        "ui:widget": "hidden",
        "ui:options": {
          "skipTitle": true
        }
      },
      "packageDetails": {
        "ui:options": {
          "skipTitle": true
        },
        "ui:order": [
          "productName",
          "containerType",
          "containedProducts"
        ],
        "productName": {
          "ui:field": "AutoCompleteField",
          "ui:options": {
            "ecl": "<774167006",
            "showDefaultOptions": false
          }
        },
        "containerType": {
          "ui:field": "AutoCompleteField",
          "ui:options": {
            "ecl": "^929360051000036108.30465011000036106",
            "extendedEcl": "<49062001",
            "showDefaultOptions": true
          }
        },
        "containedProducts": {
          "ui:field": "BoxArrayFieldTemplate",
          "ui:options": {
            "skipTitle": true,
            "searchAndAddProduct": {
              "ecl": "^929360031000036100 AND <763158003",
              "type": "medication",
              "package": false
            }
          },
          "items": {
            "ui:order": [
              "productDetails",
              "unit",
              "value"
            ],
            "ui:options": {
              "titleSource": "productDetails.productName.pt.term",
              "defaultTitle": "Product",
              "style": {
                "border": "1px solid #ddd",
                "padding": "10px",
                "marginBottom": "20px",
                "borderRadius": "8px"
              },
              "skipTitle": true
            },
            "unit": {
              "ui:field": "UnitValueUnWrappedField",
              "ui:title": "Pack Size",
              "ui:options": {
                "pairWith": "value",
                "ecl": "(^929360051000036108 : (774160008 OR 999000081000168101) = *).774163005",
                "showDefaultOptions": true
              }
            },
            "value": {
              "ui:widget": "hidden",
              "ui:options": {
                "skipTitle": true
              }
            },
            "productDetails": {
              "ui:options": {
                "skipTitle": true
              },
              "ui:order": [
                "productName",
                "activeIngredients",
                "genericForm",
                "specificForm",
                "quantity",
                "containerType",
                "deviceType",
                "otherIdentifyingInformation",
                "type"
              ],
              "type": {
                "ui:widget": "hidden",
                "ui:options": {
                  "skipTitle": true
                }
              },
              "productName": {
                "ui:field": "AutoCompleteField",
                "ui:options": {
                  "ecl": "<774167006",
                  "showDefaultOptions": false
                }
              },
              "activeIngredients": {
                "ui:options": {
                  "skipTitle": true,
                  "arrayTemplate": "accordion"
                },
                "items": {
                  "ui:order": [
                    "activeIngredient",
                    "preciseIngredient",
                    "basisOfStrengthSubstance",
                    "concentrationStrength",
                    "totalQuantity"
                  ],
                  "ui:options": {
                    "titleSource": "activeIngredient.pt.term",
                    "defaultTitle": "Ingredient",
                    "skipTitle": true
                  },
                  "activeIngredient": {
                    "ui:field": "AutoCompleteField",
                    "ui:options": {
                      "dependants": [
                        {
                          "path": "../preciseIngredient",
                          "ui:options": {
                            "getEcl": "<@parent OR (<410942007:738774007=@parent) OR (<410942007:738774007=(<410942007:738774007=@parent)) OR (<410942007:738774007=(<410942007:738774007=(<410942007:738774007=@parent))) OR (<410942007:738774007=(<410942007:738774007=(<410942007:738774007=(<410942007:738774007=@parent))))",
                            "showDefaultOptions": true
                          }
                        }
                      ],
                      "ecl": ">>^929360031000036100.127489000",
                      "showDefaultOptions": false
                    }
                  },
                  "preciseIngredient": {
                    "anyOf": [
                      {
                        "ui:title": "Precise Ingredient",
                        "ui:field": "AutoCompleteField",
                        "ui:options": {
                          "showDefaultOptions": true
                        }
                      },
                      {
                        "ui:title": "No Precise Ingredient",
                        "value": null
                      }
                    ]
                  },
                  "basisOfStrengthSubstance": {
                    "ui:field": "AutoCompleteField",
                    "ui:title": "BoSS",
                    "ui:options": {
                      "ecl": "(^929360031000036100.732943007) OR (>>^929360031000036100.127489000)",
                      "extendedEcl": "<105590001",
                      "showDefaultOptions": false
                    }
                  },
                  "totalQuantity": {
                    "ui:field": "UnitValueField",
                    "ui:title": "Unit Strength",
                    "value": {},
                    "unit": {
                      "ui:options": {
                        "ecl": "^929360031000036100.999000051000168108",
                        "extendedEcl": "(<767524001) MINUS (*:(700000091000036104=* OR 700000071000036103=*))",
                        "showDefaultOptions": true
                      }
                    }
                  },
                  "concentrationStrength": {
                    "ui:field": "UnitValueField",
                    "ui:title": "Concentration Strength",
                    "value": {},
                    "unit": {
                      "ui:options": {
                        "ecl": "^929360031000036100.999000031000168102",
                        "extendedEcl": "<767524001:(700000091000036104=* AND 700000071000036103=*)",
                        "showDefaultOptions": true
                      }
                    }
                  }
                }
              },
              "genericForm": {
                "ui:field": "ParentChildAutoCompleteField",
                "ui:options": {
                  "parentFieldName": "genericForm",
                  "childFieldName": "specificForm",
                  "parentFieldOptions": {
                    "ecl": "^929360071000036103.411116001",
                    "extendedEcl": "<736542009",
                    "showDefaultOptions": false,
                    "title": "Generic Dose Form"
                  },
                  "childFieldOptions": {
                    "ecl": "",
                    "showDefaultOptions": true,
                    "title": "Specific Dose Form",
                    "getEcl": "<@parent"
                  }
                }
              },
              "specificForm": {
                "ui:widget": "hidden",
                "ui:options": {
                  "skipTitle": true
                }
              },
              "quantity": {
                "ui:field": "UnitValueField",
                "ui:title": "Unit Size",
                "value": {},
                "unit": {
                  "ui:options": {
                    "ecl": "^929360031000036100.774163005",
                    "extendedEcl": "(<767524001) MINUS (*:(700000091000036104=* OR 700000071000036103=*))",
                    "showDefaultOptions": true
                  }
                }
              },
              "containerType": {
                "ui:field": "MutuallyExclusiveAutocompleteField",
                "ui:options": {
                  "skipTitle": true,
                  "fieldAName": "containerType",
                  "fieldBName": "deviceType",
                  "fieldAOptions": {
                    "title": "Container Type",
                    "ecl": "^929360051000036108.30465011000036106",
                    "extendedEcl": "<49062001",
                    "showDefaultOptions": true
                  },
                  "fieldBOptions": {
                    "title": "Device Type",
                    "ecl": "^929360031000036100.999000061000168105",
                    "extendedEcl": "<63653004",
                    "showDefaultOptions": true
                  }
                }
              },
              "deviceType": {
                "ui:widget": "hidden",
                "ui:options": {
                  "skipTitle": true
                }
              },
              "otherIdentifyingInformation": {
                "ui:widget": "TextFieldWidget",
                "ui:options": {
                  "placeholder": "Enter any additional identifying information"
                }
              }
            }
          }
        }
      }
    }
  },
  "externalIdentifiers": {
    "ui:widget": "OneOfArrayWidget",
    "ui:options": {
      "label": false,
      "skipTitle": true,
      "multiValuedSchemes": [
        "artgid"
      ]
    }
  }
}
